{"ast":null,"code":"import { isBrowser } from \"./dom\";\n\nfunction getUserAgentBrowser(navigator) {\n  var ua = navigator.userAgent,\n      vendor = navigator.vendor;\n  var android = /(android)/i.test(ua);\n\n  switch (true) {\n    case /CriOS/.test(ua):\n      return \"Chrome for iOS\";\n\n    case /Edg\\//.test(ua):\n      return \"Edge\";\n\n    case android && /Silk\\//.test(ua):\n      return \"Silk\";\n\n    case /Chrome/.test(ua) && /Google Inc/.test(vendor):\n      return \"Chrome\";\n\n    case /Firefox\\/\\d+\\.\\d+$/.test(ua):\n      return \"Firefox\";\n\n    case android:\n      return \"AOSP\";\n\n    case /MSIE|Trident/.test(ua):\n      return \"IE\";\n\n    case /Safari/.test(navigator.userAgent) && /Apple Computer/.test(ua):\n      return \"Safari\";\n\n    case /AppleWebKit/.test(ua):\n      return \"WebKit\";\n\n    default:\n      return null;\n  }\n}\n\nfunction getUserAgentOS(navigator) {\n  var ua = navigator.userAgent,\n      platform = navigator.platform;\n\n  switch (true) {\n    case /Android/.test(ua):\n      return \"Android\";\n\n    case /iPhone|iPad|iPod/.test(platform):\n      return \"iOS\";\n\n    case /Win/.test(platform):\n      return \"Windows\";\n\n    case /Mac/.test(platform):\n      return \"Mac\";\n\n    case /CrOS/.test(ua):\n      return \"Chrome OS\";\n\n    case /Firefox/.test(ua):\n      return \"Firefox OS\";\n\n    default:\n      return null;\n  }\n}\n\nexport function detectDeviceType(navigator) {\n  var ua = navigator.userAgent;\n  if (/(tablet)|(iPad)|(Nexus 9)/i.test(ua)) return \"tablet\";\n  if (/(mobi)/i.test(ua)) return \"phone\";\n  return \"desktop\";\n}\nexport function detectOS(os) {\n  if (!isBrowser) return false;\n  return getUserAgentOS(window.navigator) === os;\n}\nexport function detectBrowser(browser) {\n  if (!isBrowser) return false;\n  return getUserAgentBrowser(window.navigator) === browser;\n}\nexport function detectTouch() {\n  if (!isBrowser) return false;\n  return window.ontouchstart === null && window.ontouchmove === null && window.ontouchend === null;\n}","map":{"version":3,"mappings":"AAAA,SAASA,SAAT,QAA0B,OAA1B;;AAEA,SAASC,mBAAT,CAA6BC,SAA7B,EAAmD;EACjD,IAAmBC,EAAnB,GAAkCD,SAAlC,CAAQE,SAAR;EAAA,IAAuBC,MAAvB,GAAkCH,SAAlC,CAAuBG,MAAvB;EACA,IAAMC,OAAO,GAAG,aAAaC,IAAb,CAAkBJ,EAAlB,CAAhB;;EAEA,QAAQ,IAAR;IACE,KAAK,QAAQI,IAAR,CAAaJ,EAAb,CAAL;MACE,OAAO,gBAAP;;IACF,KAAK,QAAQI,IAAR,CAAaJ,EAAb,CAAL;MACE,OAAO,MAAP;;IACF,KAAKG,OAAO,IAAI,SAASC,IAAT,CAAcJ,EAAd,CAAhB;MACE,OAAO,MAAP;;IACF,KAAK,SAASI,IAAT,CAAcJ,EAAd,KAAqB,aAAaI,IAAb,CAAkBF,MAAlB,CAA1B;MACE,OAAO,QAAP;;IACF,KAAK,qBAAqBE,IAArB,CAA0BJ,EAA1B,CAAL;MACE,OAAO,SAAP;;IACF,KAAKG,OAAL;MACE,OAAO,MAAP;;IACF,KAAK,eAAeC,IAAf,CAAoBJ,EAApB,CAAL;MACE,OAAO,IAAP;;IACF,KAAK,SAASI,IAAT,CAAcL,SAAS,CAACE,SAAxB,KAAsC,iBAAiBG,IAAjB,CAAsBJ,EAAtB,CAA3C;MACE,OAAO,QAAP;;IACF,KAAK,cAAcI,IAAd,CAAmBJ,EAAnB,CAAL;MACE,OAAO,QAAP;;IACF;MACE,OAAO,IAAP;EApBJ;AAsBD;;AAMD,SAASK,cAAT,CAAwBN,SAAxB,EAA8C;EAC5C,IAAmBC,EAAnB,GAAoCD,SAApC,CAAQE,SAAR;EAAA,IAAuBK,QAAvB,GAAoCP,SAApC,CAAuBO,QAAvB;;EACA,QAAQ,IAAR;IACE,KAAK,UAAUF,IAAV,CAAeJ,EAAf,CAAL;MACE,OAAO,SAAP;;IACF,KAAK,mBAAmBI,IAAnB,CAAwBE,QAAxB,CAAL;MACE,OAAO,KAAP;;IACF,KAAK,MAAMF,IAAN,CAAWE,QAAX,CAAL;MACE,OAAO,SAAP;;IACF,KAAK,MAAMF,IAAN,CAAWE,QAAX,CAAL;MACE,OAAO,KAAP;;IACF,KAAK,OAAOF,IAAP,CAAYJ,EAAZ,CAAL;MACE,OAAO,WAAP;;IACF,KAAK,UAAUI,IAAV,CAAeJ,EAAf,CAAL;MACE,OAAO,YAAP;;IACF;MACE,OAAO,IAAP;EAdJ;AAgBD;;AAID,OAAO,SAASO,gBAAT,CAA0BR,SAA1B,EAAgD;EACrD,IAAmBC,EAAnB,GAA0BD,SAA1B,CAAQE,SAAR;EACA,IAAI,6BAA6BG,IAA7B,CAAkCJ,EAAlC,CAAJ,EAA2C,OAAO,QAAP;EAC3C,IAAI,UAAUI,IAAV,CAAeJ,EAAf,CAAJ,EAAwB,OAAO,OAAP;EACxB,OAAO,SAAP;AACD;AAMD,OAAO,SAASQ,QAAT,CAAkBC,EAAlB,EAAmC;EACxC,IAAI,CAACZ,SAAL,EAAgB,OAAO,KAAP;EAChB,OAAOQ,cAAc,CAACK,MAAM,CAACX,SAAR,CAAdM,KAAqCI,EAA5C;AACD;AAED,OAAO,SAASE,aAAT,CAAuBC,OAAvB,EAAkD;EACvD,IAAI,CAACf,SAAL,EAAgB,OAAO,KAAP;EAChB,OAAOC,mBAAmB,CAACY,MAAM,CAACX,SAAR,CAAnBD,KAA0Cc,OAAjD;AACD;AAED,OAAO,SAASC,WAAT,GAAuB;EAC5B,IAAI,CAAChB,SAAL,EAAgB,OAAO,KAAP;EAChB,OACEa,MAAM,CAACI,YAAPJ,KAAwB,IAAxBA,IACAA,MAAM,CAACK,WAAPL,KAAuB,IADvBA,IAEAA,MAAM,CAACM,UAAPN,KAAsB,IAHxB;AAKD","names":["isBrowser","getUserAgentBrowser","navigator","ua","userAgent","vendor","android","test","getUserAgentOS","platform","detectDeviceType","detectOS","os","window","detectBrowser","browser","detectTouch","ontouchstart","ontouchmove","ontouchend"],"sources":["../../src/user-agent.ts"],"sourcesContent":["import { isBrowser } from \"./dom\"\n\nfunction getUserAgentBrowser(navigator: Navigator) {\n  const { userAgent: ua, vendor } = navigator\n  const android = /(android)/i.test(ua)\n\n  switch (true) {\n    case /CriOS/.test(ua):\n      return \"Chrome for iOS\"\n    case /Edg\\//.test(ua):\n      return \"Edge\"\n    case android && /Silk\\//.test(ua):\n      return \"Silk\"\n    case /Chrome/.test(ua) && /Google Inc/.test(vendor):\n      return \"Chrome\"\n    case /Firefox\\/\\d+\\.\\d+$/.test(ua):\n      return \"Firefox\"\n    case android:\n      return \"AOSP\"\n    case /MSIE|Trident/.test(ua):\n      return \"IE\"\n    case /Safari/.test(navigator.userAgent) && /Apple Computer/.test(ua):\n      return \"Safari\"\n    case /AppleWebKit/.test(ua):\n      return \"WebKit\"\n    default:\n      return null\n  }\n}\n\nexport type UserAgentBrowser = NonNullable<\n  ReturnType<typeof getUserAgentBrowser>\n>\n\nfunction getUserAgentOS(navigator: Navigator) {\n  const { userAgent: ua, platform } = navigator\n  switch (true) {\n    case /Android/.test(ua):\n      return \"Android\"\n    case /iPhone|iPad|iPod/.test(platform):\n      return \"iOS\"\n    case /Win/.test(platform):\n      return \"Windows\"\n    case /Mac/.test(platform):\n      return \"Mac\"\n    case /CrOS/.test(ua):\n      return \"Chrome OS\"\n    case /Firefox/.test(ua):\n      return \"Firefox OS\"\n    default:\n      return null\n  }\n}\n\nexport type UserAgentOS = NonNullable<ReturnType<typeof getUserAgentOS>>\n\nexport function detectDeviceType(navigator: Navigator) {\n  const { userAgent: ua } = navigator\n  if (/(tablet)|(iPad)|(Nexus 9)/i.test(ua)) return \"tablet\"\n  if (/(mobi)/i.test(ua)) return \"phone\"\n  return \"desktop\"\n}\n\nexport type UserAgentDeviceType = NonNullable<\n  ReturnType<typeof detectDeviceType>\n>\n\nexport function detectOS(os: UserAgentOS) {\n  if (!isBrowser) return false\n  return getUserAgentOS(window.navigator) === os\n}\n\nexport function detectBrowser(browser: UserAgentBrowser) {\n  if (!isBrowser) return false\n  return getUserAgentBrowser(window.navigator) === browser\n}\n\nexport function detectTouch() {\n  if (!isBrowser) return false\n  return (\n    window.ontouchstart === null &&\n    window.ontouchmove === null &&\n    window.ontouchend === null\n  )\n}\n"]},"metadata":{},"sourceType":"module"}